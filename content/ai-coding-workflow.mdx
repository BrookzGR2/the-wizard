---
title: "The Ultimate AI Coding Workflow"
date: "2026-02-05"
description: "A complete, universal guide for building anything with AI agents. From single bug fixes to entire applications. Covers Opus 4.6, Codex 5.3, Ralph loops, Agent Teams, and more."
tags: ["ai", "coding", "workflow", "automation", "guide", "ralph", "opus", "codex"]
coverImage: "/images/articles/ai-coding-workflow.png"
readingTime: "20 min read"
---

A complete, universal guide for building anything with AI agents. From single bug fixes to entire applications.

**Updated for Opus 4.6 + Codex 5.3 (February 5, 2026)**

---

## The Philosophy

> **The Core Insight:** The bottleneck isn't code — it's getting ideas out of your head into clear specs. AI can write unlimited code. Your job is to know what you want.

### Your Three Jobs

1. **Know what you want** — Have a clear vision
2. **Describe it clearly** — Through conversation or specs
3. **Review and approve** — Final quality check

### The AI's Jobs

1. **Understand intent** — Ask clarifying questions
2. **Plan the approach** — Architecture, steps, dependencies
3. **Execute the plan** — Write code, tests, documentation
4. **Verify the work** — Run tests, check quality
5. **Iterate until done** — Fix issues, improve

---

## The Architecture

This workflow uses a **brain + muscle** architecture:

```
┌─────────────────────────────────────────────────────────────┐
│                         YOU                                  │
│           Ideas • Decisions • Reviews • Approvals            │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│                    ORCHESTRATOR (Wiz)                        │
│     Extracts ideas • Creates specs • Dispatches agents       │
└─────────────────────────────────────────────────────────────┘
                              ↓
         ┌────────────────────┴────────────────────┐
         ↓                                         ↓
┌─────────────────────┐               ┌─────────────────────┐
│   Claude Code CLI   │               │     Codex CLI       │
│     (Opus 4.6)      │               │   (GPT-5.3-Codex)   │
│ Planning • Complex  │               │ Execution • Reliable│
└─────────────────────┘               └─────────────────────┘
```

### How It Works

1. **You talk to Wiz** — describe what you want
2. **Wiz asks questions** — clarifies requirements
3. **Wiz creates specs** — or helps you create them
4. **Wiz dispatches to the right CLI** — based on task complexity
5. **CLI agent executes** — writes code, runs tests
6. **Wiz reviews and reports** — creates PR, summarizes changes
7. **You approve and merge** — final check

---

## Model Selection

### The Simple Rule

**Use Opus 4.6 for thinking. Use Codex 5.3 for doing.**

| Model | Best For | Personality |
|-------|----------|-------------|
| **Claude Opus 4.6** | Planning, debugging, code review, creative solutions | Figures out what you mean |
| **GPT-5.3-Codex** | Executing specs, overnight builds, Ralph loops | Does exactly what you say |

### Decision Tree

```
Do you know EXACTLY what you want?
├── YES → Codex 5.3 (reliable execution)
└── NO  → Opus 4.6 (will explore and figure it out)

Is this overnight/unattended work?
├── YES → Codex 5.3 (more predictable)
└── NO  → Either works

Do you need parallel review/analysis?
├── YES → Opus 4.6 Agent Teams
└── NO  → Single agent is fine
```

### The Hybrid Approach (Recommended)

| Phase | Model | Why |
|-------|-------|-----|
| Planning | Opus 4.6 | Explores options, thinks deeply |
| Spec Review | Opus 4.6 Agent Teams | Parallel review catches issues |
| Execution | Codex 5.3 | Reliable, follows specs exactly |
| Code Review | Opus 4.6 Agent Teams | Security, performance, style in parallel |

---

## Task Sizing

Different task sizes require different approaches:

| Size | Time | Examples | Workflow |
|------|------|----------|----------|
| **Tiny** | < 5 min | Fix typo, update text | Tell Wiz → Quick fix |
| **Small** | 5-30 min | New component, API endpoint | Describe → Clarify → Build |
| **Medium** | 30 min - 2 hr | New page, form with validation | Quick spec → Approve → Build |
| **Large** | 2-8 hr | Auth system, dashboard | Full spec → Audit → Ralph → Review |
| **Massive** | Days+ | New application | Phased specs → Worktrees → Ralph |

---

## Tiny Tasks (< 5 minutes)

**Examples:** Fix typo, update text, simple one-line bug

**Workflow:**

1. Tell Wiz what you need:
   ```
   "Fix the typo on the homepage — it says 'welcom' instead of 'welcome'"
   ```

2. Wiz handles it directly or dispatches to Claude Code

3. Done — Wiz confirms and commits

---

## Small Tasks (5-30 minutes)

**Examples:** Add component, create API endpoint, fix bug across few files

**Workflow:**

1. **Describe to Wiz:**
   ```
   "Add a logout button to the header that clears the session and redirects to /login"
   ```

2. **Wiz clarifies if needed:**
   ```
   Wiz: "Should it show a confirmation dialog first?"
   You: "No, log out immediately"
   ```

3. **Wiz dispatches to Claude Code**

4. **Review and merge**

---

## Medium Tasks (30 min - 2 hours)

**Examples:** New page, form with validation, integration

**Workflow:**

1. **Describe to Wiz:**
   ```
   "Build a contact form page with name, email, message fields.
   Validate inputs, show success/error states, send to /api/contact"
   ```

2. **Wiz creates quick spec:**
   ```markdown
   ## Contact Form
   - Fields: name (required), email (validated), message (min 10 chars)
   - Submit to POST /api/contact
   - Show loading, success, error states
   - Match existing form styles
   ```

3. **You approve:** "Looks good, build it"

4. **Wiz dispatches to CLI**

5. **Review PR and merge**

---

## Large Tasks (2-8 hours)

**Examples:** Auth system, dashboard, major feature

**Workflow: Spec System + Ralph**

### Step 1: Ideation with Wiz
```
"I want to build a dashboard that shows sales metrics, charts, and recent activity"
```
Wiz asks clarifying questions about users, features, constraints.

### Step 2: Create Spec Documents

| File | Purpose |
|------|---------|
| research.md | Problem, users, success criteria |
| context.md | Background, scope, constraints |
| tech-stack.md | Architecture decisions |
| design.md | UI flow, screens, components |
| prd.json | User stories with pass/fail status |

### Step 3: Audit the Spec
```
/audit-spec
```
Validates stories, checks ordering, identifies skills needed.

### Step 4: Execute with Ralph
```
/execute-spec
```
Ralph iterates through stories until all pass. Can run overnight.

### Step 5: Review with Agent Teams
```
"Use agent teams to review this PR for security, performance, and code quality"
```

### Step 6: Final Review and Merge

---

## Massive Tasks (Days+)

**Examples:** New application, platform rewrite

**Workflow: Phased Specs + Worktrees**

### Step 1: Vision Document
Extended conversation with Wiz to define the entire project.

### Step 2: Break into Phases
```
Phase 1: Foundation (5-7 stories)
  - Project setup, database, auth, core components

Phase 2: Core Features (10-15 stories)
  - Main functionality, key screens, API endpoints

Phase 3: Polish (5-10 stories)
  - Error handling, loading states, responsive, performance
```

### Step 3: Execute Phases Sequentially
Each phase: Create spec → Audit → Ralph → Review → Merge → Next phase

### Step 4: Use Worktrees for Parallel Work
```bash
git worktree add ../project-auth -b ralph/auth
git worktree add ../project-dashboard -b ralph/dashboard
# Run Ralph in each worktree simultaneously
```

> **Key Rule:** Keep each spec to 5-15 stories max. If bigger, split into phases.

---

## The Spec System

Specs separate **ideas** from **execution**. They're complete build instructions that agents execute autonomously.

### Folder Structure
```
Specs/
└── Feature-Name/
    ├── prd.json        # User stories (required)
    ├── research.md     # Problem, users, success
    ├── context.md      # Background, scope
    ├── tech-stack.md   # Architecture
    └── design.md       # UI flow
```

### The prd.json Structure
```json
{
  "project": "Feature Name",
  "projectPath": "~/Projects/my-app",
  "branchName": "ralph/feature-name",
  "userStories": [
    {
      "id": "US-001",
      "title": "First task",
      "description": "Detailed instructions",
      "acceptanceCriteria": ["Testable outcome", "npm run build passes"],
      "priority": 1,
      "passes": false
    }
  ]
}
```

### Spec Commands

| Command | What It Does |
|---------|--------------|
| `/spec` | Create new spec with research phase |
| `/audit-spec` | Validate spec, check ordering |
| `/suggest-spec` | Analyze codebase, suggest improvements |
| `/execute-spec` | Start Ralph loop |

---

## Ralph Loops

Ralph is an autonomous agent loop that executes specs. It reads prd.json, works through stories, and ships code via PRs.

### How Ralph Works

1. Reads prd.json and all research docs
2. Picks next story where `passes: false`
3. Implements the story
4. Runs verification (tests, build, lint)
5. If pass → marks `passes: true`, commits
6. Loops until all stories pass
7. Creates PR when complete

### When to Use Ralph

| ✅ Good For | ❌ Not Good For |
|-------------|-----------------|
| Tasks with clear pass/fail | Subjective tasks |
| Overnight unattended work | Exploratory research |
| Features with tests | Real-time feedback needed |
| Migrations and refactors | UI polish without specs |

### Is Ralph Still the Best?

**Yes, for sequential execution.** For parallel work, use Agent Teams. The optimal approach combines both:

- **Agent Teams** → Planning and review (parallel)
- **Ralph** → Execution (sequential, reliable)

---

## Agent Teams (Opus 4.6)

Multiple Claude instances working in parallel, coordinating autonomously.

### When to Use
- Code review (security, performance, style)
- Large codebase analysis
- Planning complex features
- Research tasks

### How to Trigger
```
"Use agent teams to review this PR"

"Spin up subagents to analyze security, performance, and style"
```

### Agent Teams vs Ralph

| Aspect | Agent Teams | Ralph |
|--------|-------------|-------|
| Execution | Parallel | Sequential |
| Best for | Read/analysis | Write/build |
| Model | Opus 4.6 | Either |

---

## Git Worktrees

Multiple working copies of the same repo for parallel development.

### Structure
```
~/Projects/
├── my-app/              # Main (stays clean)
├── my-app-wt-auth/      # Feature 1
├── my-app-wt-dashboard/ # Feature 2
```

### Commands
```bash
# Create worktree
git worktree add ../my-app-wt-feature -b ralph/feature

# List worktrees
git worktree list

# Remove when done
git worktree remove ../my-app-wt-feature
```

### Parallel Ralph Loops
```bash
# Terminal 1
cd ~/Projects/my-app-wt-auth && /execute-spec Specs/Auth

# Terminal 2
cd ~/Projects/my-app-wt-dashboard && /execute-spec Specs/Dashboard
```

---

## Skills

Reusable instruction sets that teach agents specific tasks.

### Where to Find Skills
- **Official:** [github.com/anthropics/skills](https://github.com/anthropics/skills)
- **Community:** [skills.sh](https://skills.sh)
- **Docs:** [code.claude.com/docs/en/skills](https://code.claude.com/docs/en/skills)

### Essential Skills
- `frontend-design` — Better UI generation
- `agent-browser` — Web testing automation
- `skill-creator` — Create your own skills

---

## Debugging

### The TDD Approach

1. **Write failing test:** "Write a test that reproduces this bug"
2. **Confirm it fails**
3. **Fix the code:** "Fix the code to make this test pass"
4. **Confirm it passes**
5. **Refactor:** "Refactor while keeping tests green"

### Power Prompts
```
"Go fix the failing CI tests"

"Knowing everything you know now, implement the elegant solution"

"Use subagents to debug from multiple angles"
```

### When Stuck

| Problem | Solution |
|---------|----------|
| AI keeps failing | Switch models |
| Context too big | `/compact` or break task |
| Wrong approach | `/clear`, start fresh |
| Dead end | Abort (10-20% is normal) |

---

## Quick Reference

### Task Size → Workflow

| Size | Workflow | Ralph? |
|------|----------|--------|
| Tiny | Tell Wiz → Quick fix | No |
| Small | Describe → Build | No |
| Medium | Quick spec → Build | Optional |
| Large | Full spec → Ralph → Review | **Yes** |
| Massive | Phased specs → Worktrees | **Yes** |

### Boris's Top Tips (Claude Code Creator)

1. **Run parallel sessions** — 3-5 worktrees with CLI sessions
2. **Start in plan mode** — Iterate plans until solid
3. **Invest in your config file** — "Update CLAUDE.md" (Claude Code) or "Update AGENTS.md" (Codex) after corrections
4. **Create skills** — If you do it twice, make it a skill
5. **Let AI fix bugs** — "Go fix the failing CI tests"
6. **Use voice** — fn x2, 3x faster than typing
7. **Use subagents** — More compute on complex tasks
8. **Abort dead ends** — 10-20% go nowhere, that's normal

### Resources

| Resource | URL |
|----------|-----|
| Skills Directory | [skills.sh](https://skills.sh) |
| Claude Code Docs | [code.claude.com/docs](https://code.claude.com/docs) |
| Codex CLI Docs | [developers.openai.com/codex/cli](https://developers.openai.com/codex/cli) |
| Ralph Loop | [github.com/snarktank/ralph](https://github.com/snarktank/ralph) |
| MCP Protocol | [modelcontextprotocol.io](https://modelcontextprotocol.io) |

---

## Core Principles

1. **Specs first** — The bottleneck is ideas, not code
2. **Right tool for the task** — Opus thinks, Codex executes
3. **Human in the loop** — AI proposes, you approve
4. **Small iterations** — 5-15 stories max per spec
5. **Trust but verify** — AI is good, not infallible

---

*This workflow evolves. Update it as you learn what works.*
